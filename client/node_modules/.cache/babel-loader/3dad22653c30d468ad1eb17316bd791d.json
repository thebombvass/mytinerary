{"ast":null,"code":"var _jsxFileName = \"/Users/meganvomvas/Desktop/Kod/UbiqumJava/my-app/client/src/components/LandingPage.js\";\nimport React, { Component } from 'react';\nimport '../assets/LandingPage.css';\nimport jwt_decode from 'jwt-decode';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'reactstrap'; //Components\n\nimport NavBar from './NavBar';\nimport PopularItineraries from './PopularItineraries'; //action imports\n\nimport { saveLoggedInUser } from '../store/actions/cityActions'; //lol you fucking idiot dont store isLoggedIn in central store \n//   (altho kinda weird it resets? look into that).\n//    store it in user collection. (I guess you need fetch calls everywhere tho? hm)\n\nclass LandingPage extends Component {\n  async componentDidMount() {\n    //when you first log in, store the token \n    if (window.location.hash.length > 0) {\n      console.log('first time logging in, youre here'); //store token in local and log\n\n      localStorage.setItem('token', window.location.hash.slice(1));\n      let token = localStorage.getItem('token');\n      console.log(token); //decode token and log\n\n      let decoded = jwt_decode(token);\n      console.log(decoded); //push decoded token info in central store for current user\n\n      let currentProfPicUrl = decoded.avatarPicture;\n      let currentUsername = decoded.username;\n      await this.props.dispatch(saveLoggedInUser(currentUsername, currentProfPicUrl)); //get rid of hash ?\n\n      window.history.pushState(\"\", document.title, window.location.pathname + window.location.search); //if youre returning\n    } else if (localStorage.getItem('token')) {\n      console.log('yes there is a token, youre returning');\n      let token = localStorage.getItem('token');\n      console.log(token); //decode token and log\n\n      let decoded = jwt_decode(token);\n      console.log(decoded); //push decoded token info in central store for current user\n\n      let currentProfPicUrl = decoded.avatarPicture;\n      let currentUsername = decoded.username;\n      await this.props.dispatch(saveLoggedInUser(currentUsername, currentProfPicUrl));\n    } else {\n      console.log('No token, youre not logged in');\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"MYtinerary\")), React.createElement(\"p\", {\n      className: \"TagLine\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Find your perfect trip, designed by insiders who know and love their cities.\"), React.createElement(Row, {\n      className: \"landingPageOptions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"landingPageOption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      x: \"0px\",\n      y: \"0px\",\n      width: \"100\",\n      height: \"100\",\n      viewBox: \"0 0 172 172\",\n      style: \" fill:#000000;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"g\", {\n      fill: \"none\",\n      \"fill-rule\": \"nonzero\",\n      stroke: \"none\",\n      \"stroke-width\": \"1\",\n      \"stroke-linecap\": \"butt\",\n      \"stroke-linejoin\": \"miter\",\n      \"stroke-miterlimit\": \"10\",\n      \"stroke-dasharray\": \"\",\n      \"stroke-dashoffset\": \"0\",\n      \"font-family\": \"none\",\n      \"font-weight\": \"none\",\n      \"font-size\": \"none\",\n      \"text-anchor\": \"none\",\n      style: \"mix-blend-mode: normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M0,172v-172h172v172z\",\n      fill: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"g\", {\n      fill: \"#ffffff\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M34.4,13.76v55.04h-24.10016l0.52406,89.44h47.81734h6.88h47.99875h48.16v-130.72h-55.04v3.44v65.36h-17.21344v-82.53312zM41.28,20.64l41.26656,0.02688v75.65312h-17.13953l-0.05375,-27.52h-3.43328h-20.64zM51.6,27.52v6.88h6.88v-6.88zM65.49437,27.52v6.88h6.74563v-6.88zM113.52,34.4h41.28v116.96h-17.33437v-13.76h-6.74563v13.76h-17.2v-55.04zM51.6,41.28v6.88h6.88v-6.88zM65.36,41.28v6.88h6.88v-6.88zM123.84,41.29344v6.86656h6.88v-6.86656zM137.66719,41.30687v6.92703h6.74563v-6.92703zM123.84,55.09375v6.82625h6.88v-6.82625zM137.66719,55.09375v6.82625h6.74563v-6.82625zM123.84,68.8v6.88h6.88v-6.88zM137.6,68.8v6.88h6.81281v-6.88zM17.22016,75.68h41.26656l0.04031,20.64h-0.05375l0.14781,55.04h-17.40828v-13.76h-6.74563v13.76h-16.80359zM27.52,82.56v6.93375h7.01437v-6.93375zM41.41437,82.56v6.93375h6.74563v-6.93375zM123.84,82.58687v6.84641h6.88v-6.84641zM137.6,82.58687v6.84641h6.81281v-6.84641zM27.52,96.26625v6.93375h7.01437v-6.93375zM41.41437,96.26625v6.93375h6.74563v-6.93375zM123.84,96.29313v6.93375h6.88v-6.93375zM137.66719,96.29313v6.93375h6.74563v-6.93375zM65.42047,103.2h41.21953v48.16h-17.2v-13.76h-6.88v13.76h-17.05219zM27.52,110.08v6.93375h7.01437v-6.93375zM41.41437,110.08v6.93375h6.74563v-6.93375zM75.68,110.08v6.93375h6.88v-6.93375zM89.44,110.08v6.93375h6.88v-6.93375zM123.84,110.08v6.93375h6.88v-6.93375zM137.66719,110.08v6.93375h6.74563v-6.93375zM75.68,123.78625v6.93375h6.88v-6.93375zM89.44,123.78625v6.93375h6.88v-6.93375zM123.84,123.78625v6.93375h6.88v-6.93375zM137.66719,123.78625v6.93375h6.74563v-6.93375z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })))), \"Browse\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), \"Cities\")), React.createElement(Col, {\n      xs: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Col, {\n      xs: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"landingPageOption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Create\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), \"Itinerary\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUsername: state.cities.currentUsername,\n    currentProfPicUrl: state.cities.currentProfPicUrl\n  };\n};\n\nexport default connect(mapStateToProps)(LandingPage);","map":{"version":3,"sources":["/Users/meganvomvas/Desktop/Kod/UbiqumJava/my-app/client/src/components/LandingPage.js"],"names":["React","Component","jwt_decode","connect","Row","Col","NavBar","PopularItineraries","saveLoggedInUser","LandingPage","componentDidMount","window","location","hash","length","console","log","localStorage","setItem","slice","token","getItem","decoded","currentProfPicUrl","avatarPicture","currentUsername","username","props","dispatch","history","pushState","document","title","pathname","search","render","mapStateToProps","state","cities"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../assets/LandingPage.css';\nimport jwt_decode from 'jwt-decode'\nimport { connect } from 'react-redux'\nimport { Row, Col  } from 'reactstrap';\n\n//Components\nimport NavBar from './NavBar'\nimport PopularItineraries from './PopularItineraries'\n\n//action imports\nimport { saveLoggedInUser } from '../store/actions/cityActions';\n\n\n//lol you fucking idiot dont store isLoggedIn in central store \n//   (altho kinda weird it resets? look into that).\n//    store it in user collection. (I guess you need fetch calls everywhere tho? hm)\n\nclass LandingPage extends Component {\n\n  async componentDidMount() {\n    //when you first log in, store the token \n    if (window.location.hash.length>0) {\n      console.log('first time logging in, youre here')\n      //store token in local and log\n      localStorage.setItem('token', window.location.hash.slice(1))\n      let token = localStorage.getItem('token')\n      console.log(token)\n      \n      //decode token and log\n      let decoded = jwt_decode(token)\n      console.log(decoded)\n      \n      //push decoded token info in central store for current user\n      let currentProfPicUrl = decoded.avatarPicture\n      let currentUsername = decoded.username\n      await this.props.dispatch(saveLoggedInUser(currentUsername, currentProfPicUrl))\n\n      //get rid of hash ?\n      window.history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n    \n    //if youre returning\n    } else if(localStorage.getItem('token')) {\n\n      console.log('yes there is a token, youre returning')\n      let token = localStorage.getItem('token')\n      console.log(token)\n      \n      //decode token and log\n      let decoded = jwt_decode(token)\n      console.log(decoded)\n      \n      //push decoded token info in central store for current user\n      let currentProfPicUrl = decoded.avatarPicture\n      let currentUsername = decoded.username\n      await this.props.dispatch(saveLoggedInUser(currentUsername, currentProfPicUrl))\n\n    } else {\n      console.log('No token, youre not logged in')\n    }\n  } \n\n  render() {\n      return (\n        <div className=\"App\">\n            <NavBar></NavBar>\n            <div className=\"logo\">\n              <h1>MYtinerary</h1>\n            </div>\n            <p className=\"TagLine\">Find your perfect trip, designed by insiders who know and love their cities.</p>\n            <Row className=\"landingPageOptions\">\n              <Col xs=\"5\">\n                <div className=\"landingPageOption\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                width=\"100\" height=\"100\"\n                viewBox=\"0 0 172 172\"\n                style=\" fill:#000000;\"><g fill=\"none\" fill-rule=\"nonzero\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" stroke-miterlimit=\"10\" stroke-dasharray=\"\" stroke-dashoffset=\"0\" font-family=\"none\" font-weight=\"none\" font-size=\"none\" text-anchor=\"none\" style=\"mix-blend-mode: normal\"><path d=\"M0,172v-172h172v172z\" fill=\"none\"></path><g fill=\"#ffffff\"><path d=\"M34.4,13.76v55.04h-24.10016l0.52406,89.44h47.81734h6.88h47.99875h48.16v-130.72h-55.04v3.44v65.36h-17.21344v-82.53312zM41.28,20.64l41.26656,0.02688v75.65312h-17.13953l-0.05375,-27.52h-3.43328h-20.64zM51.6,27.52v6.88h6.88v-6.88zM65.49437,27.52v6.88h6.74563v-6.88zM113.52,34.4h41.28v116.96h-17.33437v-13.76h-6.74563v13.76h-17.2v-55.04zM51.6,41.28v6.88h6.88v-6.88zM65.36,41.28v6.88h6.88v-6.88zM123.84,41.29344v6.86656h6.88v-6.86656zM137.66719,41.30687v6.92703h6.74563v-6.92703zM123.84,55.09375v6.82625h6.88v-6.82625zM137.66719,55.09375v6.82625h6.74563v-6.82625zM123.84,68.8v6.88h6.88v-6.88zM137.6,68.8v6.88h6.81281v-6.88zM17.22016,75.68h41.26656l0.04031,20.64h-0.05375l0.14781,55.04h-17.40828v-13.76h-6.74563v13.76h-16.80359zM27.52,82.56v6.93375h7.01437v-6.93375zM41.41437,82.56v6.93375h6.74563v-6.93375zM123.84,82.58687v6.84641h6.88v-6.84641zM137.6,82.58687v6.84641h6.81281v-6.84641zM27.52,96.26625v6.93375h7.01437v-6.93375zM41.41437,96.26625v6.93375h6.74563v-6.93375zM123.84,96.29313v6.93375h6.88v-6.93375zM137.66719,96.29313v6.93375h6.74563v-6.93375zM65.42047,103.2h41.21953v48.16h-17.2v-13.76h-6.88v13.76h-17.05219zM27.52,110.08v6.93375h7.01437v-6.93375zM41.41437,110.08v6.93375h6.74563v-6.93375zM75.68,110.08v6.93375h6.88v-6.93375zM89.44,110.08v6.93375h6.88v-6.93375zM123.84,110.08v6.93375h6.88v-6.93375zM137.66719,110.08v6.93375h6.74563v-6.93375zM75.68,123.78625v6.93375h6.88v-6.93375zM89.44,123.78625v6.93375h6.88v-6.93375zM123.84,123.78625v6.93375h6.88v-6.93375zM137.66719,123.78625v6.93375h6.74563v-6.93375z\"></path></g></g></svg>\n                  Browse<br></br>Cities\n                  </div>\n              </Col>\n              <Col xs=\"2\">\n              </Col>\n              <Col xs=\"5\">\n                <div className=\"landingPageOption\">Create<br></br>Itinerary</div>\n              </Col>\n            </Row>\n            {/* <StartBrowsing /> */}\n            {/* <p className=\"PopularHeader\">Popular MYtineraries:</p>\n            <PopularItineraries></PopularItineraries> */}\n        </div>\n      );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      currentUsername: state.cities.currentUsername,\n      currentProfPicUrl: state.cities.currentProfPicUrl,\n  }\n}\n\nexport default connect(mapStateToProps)(LandingPage)"]},"metadata":{},"sourceType":"module"}